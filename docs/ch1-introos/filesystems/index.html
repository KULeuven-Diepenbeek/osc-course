<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.81.0" />
    <meta name="description" content="">


    <link rel="icon" href="../../images/favicon.png" type="image/png">

    <title>1.2: File systems :: Operating Systems and C</title>

    
    <link href="../../css/nucleus.css?1654195629" rel="stylesheet">
    <link href="../../css/fontawesome-all.min.css?1654195629" rel="stylesheet">
    <link href="../../css/hybrid.css?1654195629" rel="stylesheet">
    <link href="../../css/featherlight.min.css?1654195629" rel="stylesheet">
    <link href="../../css/perfect-scrollbar.min.css?1654195629" rel="stylesheet">
    <link href="../../css/auto-complete.css?1654195629" rel="stylesheet">
    <link href="../../css/atom-one-dark-reasonable.css?1654195629" rel="stylesheet">
    <link href="../../css/theme.css?1654195629" rel="stylesheet">
    <link href="../../css/devselector.css?1654195629" rel="stylesheet">
    <link href="../../css/hugo-theme.css?1654195629" rel="stylesheet">
    <link href="../../css/theme-kul.css?1654195629" rel="stylesheet">
    

    <script src="../../js/jquery-3.3.1.min.js?1654195629"></script>
    <script src="../../js/devselector.js?1654195629"></script>
    <script id="MathJax-script" async
            src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
    </script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
        :not(pre) > code + span.copy-to-clipboard {
            display: none;
        }
      
    </style>
    <script src="../../js/osc.js"></script>

  </head>
  <body class="" data-url="../../ch1-introos/filesystems/">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      <a href="https://www.kuleuven.be/kuleuven/" target="_blank">
  <img src="../../images/kul.png" alt="KU Leuven" /><br/>
</a>
<a href="https://www.uhasselt.be/" target="_blank">
  <img src="../../images/uhasselt.svg" alt="UHasselt" id="uhlogo" />
</a>
    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="../../js/lunr.min.js?1654195629"></script>
<script type="text/javascript" src="../../js/auto-complete.js?1654195629"></script>
<script type="text/javascript">
    
        var baseurl = "https:\/\/kuleuven-diepenbeek.github.io\/osc-course\/";
    
</script>
<script type="text/javascript" src="../../js/search.js?1654195629"></script>

    
  </div>

    <div class="highlightable">

      <h3><a href="../../">Course Contents</a></h3>
    <ul class="topics">

        
          
          




 
  
    
    <li data-nav-id="/ch1-introos/" title="1: Intro in OS" class="dd-item
        parent
        
        
        ">
      <a href="../../ch1-introos/">
          <i class='fab fa-linux'></i> 1: Intro in OS
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/ch1-introos/intro-os/" title="1.1: Intro to OS using Linux" class="dd-item ">
        <a href="../../ch1-introos/intro-os/">
        <i class='fas fa-book'></i> 1.1: Intro to OS using Linux
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/ch1-introos/filesystems/" title="1.2: File systems" class="dd-item active">
        <a href="../../ch1-introos/filesystems/">
        <i class='fab fa-linux'></i> 1.2: File systems
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/ch1-introos/cli/" title="1.3: Getting your CLI-feet wet" class="dd-item ">
        <a href="../../ch1-introos/cli/">
        <i class='fas fa-vial'></i> 1.3: Getting your CLI-feet wet
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/ch2-c/" title="2: Introduction in C" class="dd-item
        
        
        
        ">
      <a href="../../ch2-c/">
          <i class='far fa-keyboard'></i> 2: Introduction in C
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/ch2-c/intro/" title="2.1: The C programming language" class="dd-item ">
        <a href="../../ch2-c/intro/">
        <i class='fas fa-book'></i> 2.1: The C programming language
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/ch2-c/intro-labs/" title="2.2: String Manipulation" class="dd-item ">
        <a href="../../ch2-c/intro-labs/">
        <i class='fas fa-vial'></i> 2.2: String Manipulation
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/ch2-c/structs/" title="2.3: Creating order: Structures" class="dd-item ">
        <a href="../../ch2-c/structs/">
        <i class='fas fa-book'></i> 2.3: Creating order: Structures
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/ch2-c/structs-labs/" title="2.4: Structs" class="dd-item ">
        <a href="../../ch2-c/structs-labs/">
        <i class='fas fa-vial'></i> 2.4: Structs
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/ch2-c/ecosystems/" title="2.5: C Ecosystems" class="dd-item ">
        <a href="../../ch2-c/ecosystems/">
        <i class='fas fa-book'></i> 2.5: C Ecosystems
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/ch2-c/ecosystems-labs/" title="2.6: Splitting up Code" class="dd-item ">
        <a href="../../ch2-c/ecosystems-labs/">
        <i class='fas fa-vial'></i> 2.6: Splitting up Code
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/ch3-introcpu/" title="3: Introduction in CPU" class="dd-item
        
        
        
        ">
      <a href="../../ch3-introcpu/">
          <i class='fab fa-linux'></i> 3: Introduction in CPU
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/ch3-introcpu/1_vonneumann/" title="3.1 Von Neumann Architecture" class="dd-item ">
        <a href="../../ch3-introcpu/1_vonneumann/">
        <i class='fab fa-linux'></i> 3.1 Von Neumann Architecture
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/ch3-introcpu/1_lab_assembly/" title="3.2: Assembly basics" class="dd-item ">
        <a href="../../ch3-introcpu/1_lab_assembly/">
        <i class='fas fa-vial'></i> 3.2: Assembly basics
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/ch3-introcpu/2_functions/" title="3.3 Functions and The Stack" class="dd-item ">
        <a href="../../ch3-introcpu/2_functions/">
        <i class='fab fa-linux'></i> 3.3 Functions and The Stack
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/ch3-introcpu/2_lab_stack/" title="3.4: The Stack" class="dd-item ">
        <a href="../../ch3-introcpu/2_lab_stack/">
        <i class='fas fa-vial'></i> 3.4: The Stack
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/ch4-pointers/" title="4: Pointers &amp; Arrays" class="dd-item
        
        
        
        ">
      <a href="../../ch4-pointers/">
          <i class='far fa-keyboard'></i> 4: Pointers &amp; Arrays
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/ch4-pointers/pointers/" title="4.1: Pointers and arrays" class="dd-item ">
        <a href="../../ch4-pointers/pointers/">
        <i class='far fa-keyboard'></i> 4.1: Pointers and arrays
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/ch4-pointers/practical-use/" title="4.2: Practical Use of Pointers" class="dd-item ">
        <a href="../../ch4-pointers/practical-use/">
        <i class='far fa-keyboard'></i> 4.2: Practical Use of Pointers
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/ch4-pointers/lab/" title="4.3: The Ancient Library" class="dd-item ">
        <a href="../../ch4-pointers/lab/">
        <i class='fas fa-vial'></i> 4.3: The Ancient Library
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/ch5-debugging/" title="5: Debugging" class="dd-item
        
        
        
        ">
      <a href="../../ch5-debugging/">
          <i class='far fa-keyboard'></i> 5: Debugging
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/ch5-debugging/debugging-ide/" title="5.1: The Easy Way: IDEs" class="dd-item ">
        <a href="../../ch5-debugging/debugging-ide/">
        <i class='far fa-keyboard'></i> 5.1: The Easy Way: IDEs
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/ch5-debugging/testing/" title="5.3: The Middle Way: TDD" class="dd-item ">
        <a href="../../ch5-debugging/testing/">
        <i class='far fa-keyboard'></i> 5.3: The Middle Way: TDD
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/ch5-debugging/debugging-gdb/" title="5.2: The Hard Way: GDB" class="dd-item ">
        <a href="../../ch5-debugging/debugging-gdb/">
        <i class='fas fa-vial'></i> 5.2: The Hard Way: GDB
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/ch6-tasks/" title="6: Task management" class="dd-item
        
        
        
        ">
      <a href="../../ch6-tasks/">
          <i class='fab fa-linux'></i> 6: Task management
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/ch6-tasks/processes/" title="6.1: Processes" class="dd-item ">
        <a href="../../ch6-tasks/processes/">
        <i class='fas fa-book'></i> 6.1: Processes
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/ch6-tasks/lab1_processmgmt/" title="6.2: Processes (lab)" class="dd-item ">
        <a href="../../ch6-tasks/lab1_processmgmt/">
        <i class='fas fa-vial'></i> 6.2: Processes (lab)
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/ch6-tasks/interprocess/" title="6.3: Inter Process communication" class="dd-item ">
        <a href="../../ch6-tasks/interprocess/">
        <i class='fas fa-book'></i> 6.3: Inter Process communication
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/ch6-tasks/threads/" title="6.4: Threads" class="dd-item ">
        <a href="../../ch6-tasks/threads/">
        <i class='fas fa-book'></i> 6.4: Threads
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/ch6-tasks/lab2_threadsmgmt/" title="6.5: Threads (lab)" class="dd-item ">
        <a href="../../ch6-tasks/lab2_threadsmgmt/">
        <i class='fas fa-vial'></i>6.5: Threads (lab)
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/ch6-tasks/interthread/" title="6.6: Inter Thread communication" class="dd-item ">
        <a href="../../ch6-tasks/interthread/">
        <i class='fas fa-book'></i> 6.6: Inter Thread communication
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/ch6-tasks/lab3_interthreadcomm/" title="6.7: Inter-Thread communication (lab)" class="dd-item ">
        <a href="../../ch6-tasks/lab3_interthreadcomm/">
        <i class='fas fa-vial'></i> 6.7: Inter-Thread communication (lab)
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/ch7-scheduling/" title="7: CPU scheduling" class="dd-item
        
        
        
        ">
      <a href="../../ch7-scheduling/">
          <i class='fab fa-linux'></i> 7: CPU scheduling
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/ch7-scheduling/algorithms/" title="7.1: Scheduling algorithms" class="dd-item ">
        <a href="../../ch7-scheduling/algorithms/">
        <i class='fas fa-book'></i> 7.1: Scheduling algorithms
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/ch7-scheduling/lab1_algorithms/" title="7.2: Scheduling algorithms (lab)" class="dd-item ">
        <a href="../../ch7-scheduling/lab1_algorithms/">
        <i class='fas fa-vial'></i> 7.2: Scheduling algorithms (lab)
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/ch7-scheduling/towards/" title="7.3: Towards real-world schedulers" class="dd-item ">
        <a href="../../ch7-scheduling/towards/">
        <i class='fas fa-book'></i> 7.3: Towards real-world schedulers
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/ch7-scheduling/lab2_niceguy/" title="7.4: Mr. nice guy(lab)" class="dd-item ">
        <a href="../../ch7-scheduling/lab2_niceguy/">
        <i class='fas fa-vial'></i> 7.4: Mr. nice guy(lab)
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/ch8-stack/" title="8: The Stack &amp; The Heap" class="dd-item
        
        
        
        ">
      <a href="../../ch8-stack/">
          <i class='far fa-keyboard'></i> 8: The Stack &amp; The Heap
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/ch8-stack/stackvsheap/" title="8.1: The Stack &amp; the Heap" class="dd-item ">
        <a href="../../ch8-stack/stackvsheap/">
        <i class='fas fa-book'></i> 8.1: The Stack &amp; the Heap
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/ch8-stack/inspection-labs/" title="8.2: Inspecting memory regions" class="dd-item ">
        <a href="../../ch8-stack/inspection-labs/">
        <i class='fas fa-vial'></i> 8.2: Inspecting memory regions
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/ch8-stack/scope/" title="8.3: Different Scopes in C" class="dd-item ">
        <a href="../../ch8-stack/scope/">
        <i class='fas fa-book'></i> 8.3: Different Scopes in C
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/ch9-memory/" title="9: Memory Management" class="dd-item
        
        
        
        ">
      <a href="../../ch9-memory/">
          <i class='fab fa-linux'></i> 9: Memory Management
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/ch9-memory/memory/" title="9.1: Memory management" class="dd-item ">
        <a href="../../ch9-memory/memory/">
        <i class='fas fa-book'></i> 9.1: Memory management
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/ch9-memory/lab1_segfault/" title="9.2: Deliberate Segfaulting" class="dd-item ">
        <a href="../../ch9-memory/lab1_segfault/">
        <i class='fas fa-vial'></i> 9.2: Deliberate Segfaulting
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/ch9-memory/paging/" title="9.3: Paging" class="dd-item ">
        <a href="../../ch9-memory/paging/">
        <i class='fas fa-book'></i> 9.3: Paging
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/ch9-memory/lab2_browsing/" title="9.4: Simply browsing through pages" class="dd-item ">
        <a href="../../ch9-memory/lab2_browsing/">
        <i class='fas fa-vial'></i> 9.4: Simply browsing through pages
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/chx-cs/" title="X: Capita Selecta" class="dd-item
        
        
        
        ">
      <a href="../../chx-cs/">
          <i class='fab fa-linux'></i> X: Capita Selecta
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/chx-cs/rtos/" title="X.2: Real-time Operating Systems" class="dd-item ">
        <a href="../../chx-cs/rtos/">
        <i class='fab fa-linux'></i> X.2: Real-time Operating Systems
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/chx-cs/devdrivers/" title="X.3: Device Drivers" class="dd-item ">
        <a href="../../chx-cs/devdrivers/">
        <i class='fab fa-linux'></i> X.3: Device Drivers
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/exercises/" title="A. Assignments" class="dd-item
        
        
        
        ">
      <a href="../../exercises/">
          <i class='fas fa-pencil-alt'></i> A. Assignments
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/exercises/c-integrated-ex/" title="1. Integrated C exercise" class="dd-item ">
        <a href="../../exercises/c-integrated-ex/">
        <i class='fas fa-pen-square'></i> 1. Integrated C exercise
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/exercises/c-debugging-testing/" title="2. Testing in C(&#43;&#43;)" class="dd-item ">
        <a href="../../exercises/c-debugging-testing/">
        <i class='fas fa-pen-square'></i> 2. Testing in C(&#43;&#43;)
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/exercises/tasks_inter_thread_communication/" title="3. Inter-thread communication" class="dd-item ">
        <a href="../../exercises/tasks_inter_thread_communication/">
        <i class='fas fa-pen-square'></i> 3. Inter-thread communication
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/exercises/scheduler/" title="4. Pseudo scheduler" class="dd-item ">
        <a href="../../exercises/scheduler/">
        <i class='fas fa-pen-square'></i> 4. Pseudo scheduler
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/appendix/" title="B. Appendix" class="dd-item
        
        
        
        ">
      <a href="../../appendix/">
          <i class='fab fa-github'></i> B. Appendix
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/appendix/lab_ll_rtos/" title="3.3: The Ancient Library (RTOS)" class="dd-item ">
        <a href="../../appendix/lab_ll_rtos/">
        <i class='fas fa-vial'></i> 3.3: The Ancient Library (RTOS)
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/appendix/reading/" title="1. Recommended reading" class="dd-item ">
        <a href="../../appendix/reading/">
        1. Recommended reading
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/appendix/installing/" title="2. Linux Installation Instructions" class="dd-item ">
        <a href="../../appendix/installing/">
        2. Linux Installation Instructions
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/appendix/cheat_sheet/" title="Cheat sheet" class="dd-item ">
        <a href="../../appendix/cheat_sheet/">
        Cheat sheet
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
        
    </ul>

    
    
      <section id="shortcuts">
        <h3>More</h3>
        <ul>
          
              <li>
                  <a class="padding" href="https://uhintra03.uhasselt.be/studiegidswww/opleidingsonderdeel.aspx?a=2019&amp;i=4082&amp;n=4&amp;t=01"><i class='fa fa-university'></i> ECTS Sheet</a>
              </li>
          
              <li>
                  <a class="padding" href="https://kuleuven-diepenbeek.github.io/osc-course/TODO"><i class='fa fa-university'></i> Toledo</a>
              </li>
          
        </ul>
      </section>
    

    
    <section id="footer">
      <p>Built with <a href="https://github.com/matcornic/hugo-theme-learn"><i class="fas fa-heart"></i></a> from <a href="https://getgrav.org">Grav</a> and <a href="https://gohugo.io/">Hugo</a></p>

    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            <a href='../../'>Operating Systems and C</a> > <a href='../../ch1-introos/'>1: Intro in OS</a> > 1.2: File systems
          
        
          
        
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li><a href="#introduction-in-unix-filesystems">Introduction in Unix filesystems</a>
      <ul>
        <li><a href="#everything-is-a-file">Everything is a file</a></li>
        <li><a href="#file-attributes">File attributes</a></li>
      </ul>
    </li>
    <li><a href="#file-system-fs-flavors">File system (FS) flavors</a>
      <ul>
        <li><a href="#ext-extended-file-system">EXT (Extended File System)</a></li>
        <li><a href="#fat-file-allocation-table">FAT (File Allocation Table)</a></li>
        <li><a href="#ntfs-new-tech-file-system">NTFS (New Tech. File System)</a></li>
        <li><a href="#nfs-network-file-system">NFS (Network File System)</a></li>
      </ul>
    </li>
    <li><a href="#common-file-system-techniques">Common File System techniques</a>
      <ul>
        <li><a href="#fragmentation">Fragmentation</a></li>
        <li><a href="#transactions">Transactions</a></li>
        <li><a href="#journaling">Journaling</a></li>
        <li><a href="#compressing">Compressing</a></li>
      </ul>
    </li>
    <li><a href="#more-resources">More Resources</a></li>
  </ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              1.2: File systems
            </h1>
          

        


<h2 id="introduction-in-unix-filesystems">Introduction in Unix filesystems</h2>
<h3 id="everything-is-a-file">Everything is a file</h3>
<p>On Linux, almost everything is a file. A file is a file. A directory is a file. An entire harddrive is a file. A UART port is a file. Even a network connection is a file! Every file is owned by one user. All other users' privileges for that file (read, write, execute) are based on the <strong>access permissions</strong> (see below).</p>
<p>Working daily with files in Unix operating systems will no doubt increase your awareness of the specific ins and outs of the Unix filesystem. A very important aspect is that <strong>everything is a <em>file</em> in Unix</strong> (even things that aren&rsquo;t really files, like devices, network sockets and even processes!). We will for example use this to our advantage to inspect the inner workings of a process in the <code>/proc</code> directory later.</p>
<p>A real <strong>file</strong> is the smallest possible unit of storage in a unix system. However, a <strong>filesystem</strong> is more than mere data (the file itself): it also contains relations to other files, and attributes or <em>metadata</em> of the file itself, such as:</p>
<ul>
<li>name</li>
<li>size</li>
<li>timestamp</li>
<li>owner, protection parameters</li>
</ul>
<p>A <strong>directory</strong> is a special kind of file, in which other files can be stored. It simply references to other files it contains and does not duplicate the data itself.</p>
<figure>
    <img src="../../img/filesystem.gif"/> <figcaption>
            <h4>src: http://www.rhyshaden.com/unix.htm</h4>
        </figcaption>
</figure>

<p>The image above gives an overview of common Unix directory structures, starting from the root <code>/</code> (forward slash). Depending on the Unix flavor, there will be slight variations. For example, Linux usually has <code>/home</code> as user root, while OSX has <code>/Users</code> (capital).</p>
<p>There are also special <strong>device files</strong>, mapped at <code>/dev</code>, that form the bridge between the virtual OS system and the physical machine system. These device files are char or block systems that enable the OS to read data from an external device. For instance, your USB devices, listed through <code>lsusb</code>, can be read directly using <code>cat /dev/ttyXX</code>.</p>
<p>Hard drives are mapped using the same technique, in <code>/dev/sdx</code>, listed through <code>cat /etc/fstab</code> (<code>mount</code>). <code>lsblk</code> (list block devices) allows you to see which block devices are currently linked through files to the OS. On OSX, my <code>mount</code> command outputs:</p>
<pre>
Wouters-MacBook-Air:~ wgroeneveld$ mount
/dev/disk1 on / (hfs, local, journaled)
devfs on /dev (devfs, local, nobrowse)
map -hosts on /net (autofs, nosuid, automounted, nobrowse)
map auto_home on /home (autofs, automounted, nobrowse)
</pre>
<p>Depending on the Unix flavor, the location of the device files will be different.</p>
<h3 id="file-attributes">File attributes</h3>
<p>When you list all files using <code>ls -la</code> (list all), you see something like this:</p>
<figure>
    <img src="../../img/file_attributes.png"/> <figcaption>
            <h4>src: https://homepages.uc.edu/~thomam/</h4>
        </figcaption>
</figure>

<p>You can see that each file has a large number of associated attributes. Some of which you&rsquo;ll know (size, date, name), others are somewhat more linux-specific (users, groups and permissions).</p>

<div class="notices note" ><p>You will notice two special/strange entries at the top of the <code>ls -al</code> output, named &ldquo;.&rdquo; and &ldquo;..&rdquo;. These are not real files on the disk, but rather virtual files that help navigation in the filesystem and the execution of commands. Firstly, the &ldquo;..&rdquo; always means &ldquo;the parent of this directory&rdquo;. So if you are at the path &ldquo;/home/user/test&rdquo; and you do <code>cd ..</code>, you will automatically go to &ldquo;/home/user&rdquo;. Doing <code>cd ../..</code> will go to &ldquo;/home&rdquo;. Secondly, the single dot &ldquo;.&rdquo; means &ldquo;the current directory&rdquo;. This comes in handy if you want to search for something in files in the current directory or copy something to where you are at that moment without having to type the entire path.</p>
</div>

<p>An important attribute is listed at the start: the <code>permission modes</code> of a given file or directory. As we&rsquo;ve discussed with <code>sudo</code> before, not all users or user groups have equal capabilities in a UNIX system. Each file is &ldquo;owned&rdquo; by a single user (typically the user that created it) and single user group (the group of the user that created it). The permission modes allow us to very finegrainedly control what each a user can do with each (group of) files (and, because everything is a file, also with each device etc.).</p>
<p>There are five different permission mode characters displayed:</p>
<ol>
<li><code>r</code> (readable),</li>
<li><code>w</code> (writable),</li>
<li><code>x</code> (executable).</li>
<li><code>-</code> means this specific permission is disabled or this flag is not set, and</li>
<li><code>d</code> means it&rsquo;s a directory. If this is -, it means it&rsquo;s a normal file.</li>
</ol>
<p>The first character is always the directory indicator, but after that we see 3 collections of 3 characters. These are a repetition of <code>rwx</code> with potentially also <code>-</code>. Each group of 3 indicates permissions for a (group of) user(s) (so 9 in total).</p>
<ol>
<li>The first collection indicates the permissions for the <strong>owning user</strong>.</li>
<li>The second collection indicates the permissions for the <strong>owning user group</strong>.</li>
<li>The thid collection indicates the permissions for <strong>all users</strong>.</li>
</ol>
<p>For example, -rwxrw&mdash;- can be divided into - rwx rw- &mdash; and would mean that:</p>
<ol>
<li>The owner can read, write and execute the file.</li>
<li>All users in the owner user group can read and write but NOT execute the file.</li>
<li>No other users can do anything with the file.</li>
</ol>
<p>For example, if a file was not created by you, and you&rsquo;re not in the same user group as the creator, you&rsquo;d get the permissions of the third collection.</p>
<p>The <em>default file permission modes</em> of new files can be set using <code>umask</code>, while the the permission mode of existing files can be changed using the <code>chmod</code> (change mode) command. For example:</p>
<ul>
<li><code>chmod +x [filepath]</code> adds the execute permission for <strong>all three collections</strong>.</li>
<li><code>chmod -x [filepath]</code> removes the execute permission for all three collections.</li>
<li><code>chmod 640 [filepath]</code> uses &ldquo;bitflags&rdquo; to change all the 9 different permissions at once.</li>
</ul>
<p>Especially the last one deserves some further explanation. Each collection of <code>rwx</code> can be seen as 3 bits, where a value of 0 means the permission is OFF, and 1 means the permission is ON. So <code>101</code> would mean <code>r-x</code> for example. Now, we don&rsquo;t always want to write <code>chmod 101111010</code> for example, so we use a shorter version by representing each collection of 3 bits as a number from 0-7 (the octal number system). This is what you get when you interpret the 3 binary digits as decimal numbers (for example, 110 is 6, 101 is 5, while 011 is 3). Some examples:</p>
<ul>
<li><code>chmod 640 [filepath]</code> maps to <code>chmod 110 010 000</code> which means permissions <code>rw- -w- ---</code> for that particular file. Thus, the current user can read and write, the user group can only write and no one can execute.</li>
<li><code>chmod 777 [filepath]</code> maps to <code>chmod 111 111 111</code> which means permissions <code>rwx rwx rwx</code>. Put differently: everyone can do everything. This is often the &ldquo;lazy option&rdquo; because it&rsquo;s sure to work, but also very insecure!</li>
</ul>
<p>Of course the <code>root</code> user (for example, when using <code>sudo</code>) can always write to files, even if they just have permission <code>400</code>, as it has full permission on the entire system.</p>

<div class="notices note" ><p>For this course, you will primarily use <code>chmod +x</code> to make a script or compiled file executable so it can be run as a program (since that doesn&rsquo;t always happen automatically).</p>
</div>

<p>Changing the owners of the file can be done using <code>chown user:group [filepath]</code>.</p>
<p>A complete overview of the permission system, neatly summarized by Julia Evans:</p>
<figure>
    <img src="https://1.bp.blogspot.com/-4YYentw6dEM/W2WjhM1l1DI/AAAAAAAAL6M/2pJn_KbDXmUPEImvikiCFcnWJ0pLvzVVACLcBGAs/s640/UNIX%2Bfile%2Bpermissions%2Bby%2BJulia%2BEvans.jpg"/> <figcaption>
            <h4>source: drawings.jvns.ca</h4>
        </figcaption>
</figure>
<h2 id="file-system-fs-flavors">File system (FS) flavors</h2>
<h3 id="ext-extended-file-system">EXT (Extended File System)</h3>
<p>The EXT filesystem is originally developed for Unix-like Operating Systems. Its first variant came into market in 1992. Variant by variant this has overcome the limitations like size of single file, size of volume, number of files in a folder or directory. Journaling was introduced in ext3, and extended features in ext4, such as persistent pre-allocation, delayed allocation, an unlimited number of subdirectories, checksums, transparent encryption, online defrag.</p>
<p>Ext4 is backwards compatible with Ext2, meaning you can safely <code>mount</code> an older disk formatted with the older file system using ext4 drivers. Using Ext filesystems in Windows usually requires some driver that enables mounting of these file systems (<a href="https://www.ext2fsd.com">Ext2Fsd for example</a>).</p>
<h3 id="fat-file-allocation-table">FAT (File Allocation Table)</h3>
<p>FAT stands for File Allocation Table and this is called so because it allocates different file and folders using lookup <em>tables</em>. This was originally designed to handle small file systems and disks. This system majorly has three variant FAT12, FAT16 and FAT32 which were introduced in 1980, 1984 and 1996 respectively.</p>
<figure>
    <img src="../../img/floppy.jpg"/> <figcaption>
            <h4>Remember this? src: http://www.youtube.com/watch?v=EHRc-QMoUE4</h4>
        </figcaption>
</figure>

<p>(Magnetic) <a href="https://en.wikipedia.org/wiki/Floppy_disk">Floppy disks</a> that could store up to 1.2 MB and later on 1.44 MB, were ideally for this FS. FAT32 is still mostly used in pen drive and micro SDs. It can store or copy a file with a max size of 4GB (size of a single file to be stored). If the size of file exceeds 4GB it won’t copy on storage media, but its partition size was up to 8TB (size of partition on which FAT could be applied).</p>
<h3 id="ntfs-new-tech-file-system">NTFS (New Tech. File System)</h3>
<p>Microsoft too has moved on from FAT to NTFS with the introduction of <a href="https://www.youtube.com/watch?v=12mx5GbQh2Q">Windows NT (nice intro video for the curious student)</a> (<em>New Technology</em> - what an original name!) in 1993. This was an enhanced and more advanced version of FAT systems. All modenr Windows installations are done on NTFS. NTFS has no file size limit and no partition or volume limit.</p>
<p>Modern features of this brand New Technology:</p>
<ul>
<li>Journaling</li>
<li>Transactions</li>
<li>File Compression</li>
<li>Security</li>
</ul>
<p>Since NTFS is a proprietary technology, is has long been difficult to mount NTFS partitions using Unix systems. Read-only is no problem, but writing is another matter. Even on OSX, it still requires the use of third-party software such as <a href="https://mounty.app">Mounty</a>.</p>
<h3 id="nfs-network-file-system">NFS (Network File System)</h3>
<p>File systems usually enable the storage of files on local disks. The NFS FS, Network File System, does enable us to manage files in a <strong>distributed manner</strong>, where <em>multiple client machines</em> can connect to one or <em>a few servers</em>.  To be able to do that, there are two different File Systems:</p>
<ul>
<li>A <em>client-side</em> one, connected to a network layer</li>
<li>A <em>server-side</em> one, connected to a network layer - with underlying effective FS</li>
</ul>
<figure>
    <img src="../../img/nfs.jpg"/> <figcaption>
            <h4>src: http://bigdata-guide.blogspot.com/2014/02/network-file-system-nfs.html</h4>
        </figcaption>
</figure>

<p>Client system calls such as <code>read()</code>, <code>write()</code> and others pass through these. That means the Virtual FS is completely <strong>transparent</strong>: no special API is required. A network protocol (TCP/UDP) through a network layer enables communication between both client and server. The server is also called the &lsquo;<em>file server</em>&rsquo;. NFS was originally developed by Sun Microsystems, and it contains much needed server crash recovery modules.</p>
<p>NFS version 2 migrated from a <em>stateful</em> to a <em>stateless</em> network protocol. Statelessness means the server is unaware of what the client is doing (what blocks are being cached, for instance) - it simply delivers al information that is required to service a client request. If a server crash happens, the client would simply have to retry the request.</p>
<h2 id="common-file-system-techniques">Common File System techniques</h2>
<h3 id="fragmentation">Fragmentation</h3>
<p>A hard disk drive has a number of sectors on it, each of which can contain a small piece of data. Files, particularly large ones, must be stored across a number of different sectors (in <strong>file fragments</strong>). As files grow in size (for example, by altering them), these chunks drift apart, depending on the file system. in the old FAT FS, file parts are simply saved as close to the physical start of the disk as possible, and so on, becoming <em>fragmented</em> over time.</p>
<figure>
    <img src="../../img/fragment.jpg"/> <figcaption>
            <h4>src: https://7datarecovery.com/best-registry-cleaners/</h4>
        </figcaption>
</figure>

<p>NTFS is a bit smarter, allocating free <em>buffer</em> space around the files on the drive. However, after a set amount of time, NTFS systems still become fragmented. The <strong>Defragmentation</strong> process then is the process of rearranging file fragments from different sectors closer to each other, to minimize disk IO, especially without solid state.</p>
<p>The EXT file system handles sectors differently. The FS scatters different files all over the disk, leaving a large amount of free space between them. When a file is edited and needs to grow, there’s usually plenty of free space for the file to grow into. This means fragmentation will only occur if the disk space is used up from <code>80%</code> and onwards.</p>
<h3 id="transactions">Transactions</h3>
<p>When programs need to make multiple changes at FS level, if one or two changes fail for some reason, no change at all should occur. That is the main premise of a transactional system, in which <strong>rollback</strong> behavior will occur when something goes wrong.</p>
<p>It&rsquo;s the same principle applied to most database transactions: a transaction should be an <em>atomic</em> operation, meaning no change or influence can occur in-between different changes. This usually involves some kind of locking mechanism.</p>
<p>Windows Vista introduced Transactions in NTFS, but the use is now discouraged. The transaction system has largely been superseded by the Journaling system.</p>
<h3 id="journaling">Journaling</h3>
<p>A definition from Wikipedia:</p>
<blockquote>
<p>A journaling file system is a file system that <strong>keeps track of changes not yet committed to the file system&rsquo;s main part</strong> by recording the intentions of such changes in a data structure known as a &ldquo;journal&rdquo;, which is usually a circular log. In the event of a system crash or power failure, such file systems can be brought back online more quickly with a lower likelihood of becoming corrupted.</p>
</blockquote>
<p>Journaling minimizes the loss of data when hard disks crash by recording additional metadata in a circular log. EXT4 and NTFS both implement this technique.</p>
<h3 id="compressing">Compressing</h3>
<p>Some file systems, such as the open-source Btrfs, introduce transparent file compression. In NTFS, it is not completely transparent: you can enable NTFS compression by changing advanced attributes of directories in Windows Explorer. It does come at a cost: CPU power. Therefore, it should never be applied to OS-specific and frequently-modified files.</p>
<p>Ext4 does not have transparent file compression, but it can be enabled in conjunction with ZFS. The APFS (Apple File System), a proprietary system by Apple for High Sierra (10.13) and later, does come with auto-compression systems based on Zlib and LZVN. HFS+, Apple&rsquo;s older FS, comes without it.</p>
<h2 id="more-resources">More Resources</h2>
<ul>
<li><a href="https://kerneltalks.com/disk-management/difference-between-ext2-ext3-and-ext4/">https://kerneltalks.com/disk-management/difference-between-ext2-ext3-and-ext4/</a></li>
<li><a href="https://www.freebsd.org/doc/handbook/network-nfs.html">https://www.freebsd.org/doc/handbook/network-nfs.html</a></li>
<li><a href="https://en.wikipedia.org/wiki/Ext4">https://en.wikipedia.org/wiki/Ext4</a></li>
<li><a href="https://en.wikipedia.org/wiki/Comparison_of_file_systems">https://en.wikipedia.org/wiki/Comparison_of_file_systems</a></li>
<li><a href="https://www.linux-magazine.com/Online/Features/Filesystems-Benchmarked">https://www.linux-magazine.com/Online/Features/Filesystems-Benchmarked</a></li>
<li><a href="https://selvamvasu.wordpress.com/2014/08/01/inode-vs-ext4/">https://selvamvasu.wordpress.com/2014/08/01/inode-vs-ext4/</a></li>
</ul>


<footer class="footline">
	
</footer>

        
        </div>
        

      </div>

    <div id="navigation">
        
        

        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        

        


	 
	 
		
			<a class="nav nav-prev" href="../../ch1-introos/intro-os/" title="1.1: Intro to OS using Linux"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="../../ch1-introos/cli/" title="1.3: Getting your CLI-feet wet" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>

    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="../../js/clipboard.min.js?1654195629"></script>
    <script src="../../js/perfect-scrollbar.min.js?1654195629"></script>
    <script src="../../js/perfect-scrollbar.jquery.min.js?1654195629"></script>
    <script src="../../js/jquery.sticky.js?1654195629"></script>
    <script src="../../js/featherlight.min.js?1654195629"></script>
    <script src="../../js/modernizr.custom-3.6.0.js?1654195629"></script>
    <script src="../../js/learn.js?1654195629"></script>
    <script src="../../js/hugo-learn.js?1654195629"></script>
    
        
            <script src="../../mermaid/mermaid.js?1654195629"></script>
        
        <script>
            mermaid.initialize({ startOnLoad: true });
        </script>
    
    <script>
    window.MathJax = {
      chtml: {
        scale: 2,                      
        minScale: .5,                  
        matchFontHeight: true,         
        mtextInheritFont: false,       
        merrorInheritFont: true,       
        mathmlSpacing: false,          
        skipAttributes: {},            
        exFactor: .5,                  
        displayAlign: 'center',        
        displayIndent: '0'             
      }
    };
    </script>
    
    

  </body>
</html>

