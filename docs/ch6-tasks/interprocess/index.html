<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.81.0" />
    <meta name="description" content="">


    <link rel="icon" href="../../images/favicon.png" type="image/png">

    <title>6.3: Inter Process communication :: Operating Systems and C</title>

    
    <link href="../../css/nucleus.css?1680267095" rel="stylesheet">
    <link href="../../css/fontawesome-all.min.css?1680267095" rel="stylesheet">
    <link href="../../css/hybrid.css?1680267095" rel="stylesheet">
    <link href="../../css/featherlight.min.css?1680267095" rel="stylesheet">
    <link href="../../css/perfect-scrollbar.min.css?1680267095" rel="stylesheet">
    <link href="../../css/auto-complete.css?1680267095" rel="stylesheet">
    <link href="../../css/atom-one-dark-reasonable.css?1680267095" rel="stylesheet">
    <link href="../../css/theme.css?1680267095" rel="stylesheet">
    <link href="../../css/devselector.css?1680267095" rel="stylesheet">
    <link href="../../css/hugo-theme.css?1680267095" rel="stylesheet">
    <link href="../../css/theme-kul.css?1680267095" rel="stylesheet">
    

    <script src="../../js/jquery-3.3.1.min.js?1680267095"></script>
    <script src="../../js/devselector.js?1680267095"></script>
    <script id="MathJax-script" async
            src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
    </script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
        :not(pre) > code + span.copy-to-clipboard {
            display: none;
        }
      
    </style>
    <script src="../../js/osc.js"></script>

  </head>
  <body class="" data-url="../../ch6-tasks/interprocess/">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      <a href="https://www.kuleuven.be/kuleuven/" target="_blank">
  <img src="../../images/kul.png" alt="KU Leuven" /><br/>
</a>
<a href="https://www.uhasselt.be/" target="_blank">
  <img src="../../images/uhasselt.svg" alt="UHasselt" id="uhlogo" />
</a>
    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="../../js/lunr.min.js?1680267095"></script>
<script type="text/javascript" src="../../js/auto-complete.js?1680267095"></script>
<script type="text/javascript">
    
        var baseurl = "https:\/\/kuleuven-diepenbeek.github.io\/osc-course\/";
    
</script>
<script type="text/javascript" src="../../js/search.js?1680267095"></script>

    
  </div>

    <div class="highlightable">

      <h3><a href="../../">Course Contents</a></h3>
    <ul class="topics">

        
          
          




 
  
    
    <li data-nav-id="/ch1-introos/" title="1: Intro in OS" class="dd-item
        
        
        
        ">
      <a href="../../ch1-introos/">
          <i class='fab fa-linux'></i> 1: Intro in OS
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/ch1-introos/intro-os/" title="1.1: Intro to OS using Linux" class="dd-item ">
        <a href="../../ch1-introos/intro-os/">
        <i class='fas fa-book'></i> 1.1: Intro to OS using Linux
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/ch1-introos/filesystems/" title="1.2: File systems" class="dd-item ">
        <a href="../../ch1-introos/filesystems/">
        <i class='fab fa-linux'></i> 1.2: File systems
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/ch1-introos/cli/" title="1.3: Getting your CLI-feet wet" class="dd-item ">
        <a href="../../ch1-introos/cli/">
        <i class='fas fa-vial'></i> 1.3: Getting your CLI-feet wet
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/ch2-c/" title="2: Introduction in C" class="dd-item
        
        
        
        ">
      <a href="../../ch2-c/">
          <i class='far fa-keyboard'></i> 2: Introduction in C
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/ch2-c/intro/" title="2.1: The C programming language" class="dd-item ">
        <a href="../../ch2-c/intro/">
        <i class='fas fa-book'></i> 2.1: The C programming language
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/ch2-c/intro-labs/" title="2.2: String Manipulation" class="dd-item ">
        <a href="../../ch2-c/intro-labs/">
        <i class='fas fa-vial'></i> 2.2: String Manipulation
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/ch2-c/structs/" title="2.3: Creating order: Structures" class="dd-item ">
        <a href="../../ch2-c/structs/">
        <i class='fas fa-book'></i> 2.3: Creating order: Structures
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/ch2-c/structs-labs/" title="2.4: Structs" class="dd-item ">
        <a href="../../ch2-c/structs-labs/">
        <i class='fas fa-vial'></i> 2.4: Structs
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/ch2-c/ecosystems/" title="2.5: C Ecosystems" class="dd-item ">
        <a href="../../ch2-c/ecosystems/">
        <i class='fas fa-book'></i> 2.5: C Ecosystems
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/ch2-c/ecosystems-labs/" title="2.6: Splitting up Code" class="dd-item ">
        <a href="../../ch2-c/ecosystems-labs/">
        <i class='fas fa-vial'></i> 2.6: Splitting up Code
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/ch3-introcpu/" title="3: Introduction in CPU" class="dd-item
        
        
        
        ">
      <a href="../../ch3-introcpu/">
          <i class='fab fa-linux'></i> 3: Introduction in CPU
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/ch3-introcpu/1_vonneumann/" title="3.1 Von Neumann Architecture" class="dd-item ">
        <a href="../../ch3-introcpu/1_vonneumann/">
        <i class='fab fa-linux'></i> 3.1 Von Neumann Architecture
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/ch3-introcpu/1_lab_assembly/" title="3.2: Assembly basics" class="dd-item ">
        <a href="../../ch3-introcpu/1_lab_assembly/">
        <i class='fas fa-vial'></i> 3.2: Assembly basics
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/ch3-introcpu/2_functions/" title="3.3 Functions and The Stack" class="dd-item ">
        <a href="../../ch3-introcpu/2_functions/">
        <i class='fab fa-linux'></i> 3.3 Functions and The Stack
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/ch3-introcpu/2_lab_stack/" title="3.4: The Stack" class="dd-item ">
        <a href="../../ch3-introcpu/2_lab_stack/">
        <i class='fas fa-vial'></i> 3.4: The Stack
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/ch4-pointers/" title="4: Pointers &amp; Arrays" class="dd-item
        
        
        
        ">
      <a href="../../ch4-pointers/">
          <i class='far fa-keyboard'></i> 4: Pointers &amp; Arrays
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/ch4-pointers/pointers/" title="4.1: Pointers and arrays" class="dd-item ">
        <a href="../../ch4-pointers/pointers/">
        <i class='far fa-keyboard'></i> 4.1: Pointers and arrays
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/ch4-pointers/practical-use/" title="4.2: Practical Use of Pointers" class="dd-item ">
        <a href="../../ch4-pointers/practical-use/">
        <i class='far fa-keyboard'></i> 4.2: Practical Use of Pointers
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/ch4-pointers/lab/" title="4.3: The Ancient Library" class="dd-item ">
        <a href="../../ch4-pointers/lab/">
        <i class='fas fa-vial'></i> 4.3: The Ancient Library
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/ch5-debugging/" title="5: Debugging" class="dd-item
        
        
        
        ">
      <a href="../../ch5-debugging/">
          <i class='far fa-keyboard'></i> 5: Debugging
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/ch5-debugging/debugging-ide/" title="5.1: The Easy Way: IDEs" class="dd-item ">
        <a href="../../ch5-debugging/debugging-ide/">
        <i class='far fa-keyboard'></i> 5.1: The Easy Way: IDEs
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/ch5-debugging/testing/" title="5.3: The Middle Way: TDD" class="dd-item ">
        <a href="../../ch5-debugging/testing/">
        <i class='far fa-keyboard'></i> 5.3: The Middle Way: TDD
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/ch5-debugging/debugging-gdb/" title="5.2: The Hard Way: GDB" class="dd-item ">
        <a href="../../ch5-debugging/debugging-gdb/">
        <i class='fas fa-vial'></i> 5.2: The Hard Way: GDB
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/ch6-tasks/" title="6: Task management" class="dd-item
        parent
        
        
        ">
      <a href="../../ch6-tasks/">
          <i class='fab fa-linux'></i> 6: Task management
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/ch6-tasks/processes/" title="6.1: Processes" class="dd-item ">
        <a href="../../ch6-tasks/processes/">
        <i class='fas fa-book'></i> 6.1: Processes
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/ch6-tasks/lab1_processmgmt/" title="6.2: Processes (lab)" class="dd-item ">
        <a href="../../ch6-tasks/lab1_processmgmt/">
        <i class='fas fa-vial'></i> 6.2: Processes (lab)
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/ch6-tasks/interprocess/" title="6.3: Inter Process communication" class="dd-item active">
        <a href="../../ch6-tasks/interprocess/">
        <i class='fas fa-book'></i> 6.3: Inter Process communication
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/ch6-tasks/threads/" title="6.4: Threads" class="dd-item ">
        <a href="../../ch6-tasks/threads/">
        <i class='fas fa-book'></i> 6.4: Threads
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/ch6-tasks/lab2_threadsmgmt/" title="6.5: Threads (lab)" class="dd-item ">
        <a href="../../ch6-tasks/lab2_threadsmgmt/">
        <i class='fas fa-vial'></i>6.5: Threads (lab)
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/ch6-tasks/interthread/" title="6.6: Inter Thread communication" class="dd-item ">
        <a href="../../ch6-tasks/interthread/">
        <i class='fas fa-book'></i> 6.6: Inter Thread communication
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/ch6-tasks/lab3_interthreadcomm/" title="6.7: Inter-Thread communication (lab)" class="dd-item ">
        <a href="../../ch6-tasks/lab3_interthreadcomm/">
        <i class='fas fa-vial'></i> 6.7: Inter-Thread communication (lab)
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/ch7-scheduling/" title="7: CPU scheduling" class="dd-item
        
        
        
        ">
      <a href="../../ch7-scheduling/">
          <i class='fab fa-linux'></i> 7: CPU scheduling
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/ch7-scheduling/algorithms/" title="7.1: Scheduling algorithms" class="dd-item ">
        <a href="../../ch7-scheduling/algorithms/">
        <i class='fas fa-book'></i> 7.1: Scheduling algorithms
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/ch7-scheduling/lab1_algorithms/" title="7.2: Scheduling algorithms (lab)" class="dd-item ">
        <a href="../../ch7-scheduling/lab1_algorithms/">
        <i class='fas fa-vial'></i> 7.2: Scheduling algorithms (lab)
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/ch7-scheduling/towards/" title="7.3: Towards real-world schedulers" class="dd-item ">
        <a href="../../ch7-scheduling/towards/">
        <i class='fas fa-book'></i> 7.3: Towards real-world schedulers
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/ch7-scheduling/lab2_niceguy/" title="7.4: Mr. nice guy(lab)" class="dd-item ">
        <a href="../../ch7-scheduling/lab2_niceguy/">
        <i class='fas fa-vial'></i> 7.4: Mr. nice guy(lab)
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/ch8-stack/" title="8: The Stack &amp; The Heap" class="dd-item
        
        
        
        ">
      <a href="../../ch8-stack/">
          <i class='far fa-keyboard'></i> 8: The Stack &amp; The Heap
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/ch8-stack/stackvsheap/" title="8.1: The Stack &amp; the Heap" class="dd-item ">
        <a href="../../ch8-stack/stackvsheap/">
        <i class='fas fa-book'></i> 8.1: The Stack &amp; the Heap
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/ch8-stack/inspection-labs/" title="8.2: Inspecting memory regions" class="dd-item ">
        <a href="../../ch8-stack/inspection-labs/">
        <i class='fas fa-vial'></i> 8.2: Inspecting memory regions
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/ch8-stack/scope/" title="8.3: Different Scopes in C" class="dd-item ">
        <a href="../../ch8-stack/scope/">
        <i class='fas fa-book'></i> 8.3: Different Scopes in C
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/ch9-memory/" title="9: Memory Management" class="dd-item
        
        
        
        ">
      <a href="../../ch9-memory/">
          <i class='fab fa-linux'></i> 9: Memory Management
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/ch9-memory/memory/" title="9.1: Memory management" class="dd-item ">
        <a href="../../ch9-memory/memory/">
        <i class='fas fa-book'></i> 9.1: Memory management
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/ch9-memory/lab1_segfault/" title="9.2: Deliberate Segfaulting" class="dd-item ">
        <a href="../../ch9-memory/lab1_segfault/">
        <i class='fas fa-vial'></i> 9.2: Deliberate Segfaulting
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/ch9-memory/paging/" title="9.3: Paging" class="dd-item ">
        <a href="../../ch9-memory/paging/">
        <i class='fas fa-book'></i> 9.3: Paging
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/ch9-memory/lab2_browsing/" title="9.4: Simply browsing through pages" class="dd-item ">
        <a href="../../ch9-memory/lab2_browsing/">
        <i class='fas fa-vial'></i> 9.4: Simply browsing through pages
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/chx-cs/" title="X: Capita Selecta" class="dd-item
        
        
        
        ">
      <a href="../../chx-cs/">
          <i class='fab fa-linux'></i> X: Capita Selecta
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/chx-cs/rtos/" title="X.2: Real-time Operating Systems" class="dd-item ">
        <a href="../../chx-cs/rtos/">
        <i class='fab fa-linux'></i> X.2: Real-time Operating Systems
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/chx-cs/devdrivers/" title="X.3: Device Drivers" class="dd-item ">
        <a href="../../chx-cs/devdrivers/">
        <i class='fab fa-linux'></i> X.3: Device Drivers
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/exercises/" title="A. Assignments" class="dd-item
        
        
        
        ">
      <a href="../../exercises/">
          <i class='fas fa-pencil-alt'></i> A. Assignments
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/exercises/c-integrated-ex/" title="1. Integrated C exercise" class="dd-item ">
        <a href="../../exercises/c-integrated-ex/">
        <i class='fas fa-pen-square'></i> 1. Integrated C exercise
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/exercises/c-debugging-testing/" title="2. Testing in C(&#43;&#43;)" class="dd-item ">
        <a href="../../exercises/c-debugging-testing/">
        <i class='fas fa-pen-square'></i> 2. Testing in C(&#43;&#43;)
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/exercises/none-yet/" title="None yet!" class="dd-item ">
        <a href="../../exercises/none-yet/">
        <i class='fas fa-pen-square'></i> None yet!
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/appendix/" title="B. Appendix" class="dd-item
        
        
        
        ">
      <a href="../../appendix/">
          <i class='fab fa-github'></i> B. Appendix
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/appendix/reading/" title="1. Recommended reading" class="dd-item ">
        <a href="../../appendix/reading/">
        1. Recommended reading
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/appendix/installing/" title="2. Linux Installation Instructions" class="dd-item ">
        <a href="../../appendix/installing/">
        2. Linux Installation Instructions
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/appendix/cheat_sheet/" title="Cheat sheet" class="dd-item ">
        <a href="../../appendix/cheat_sheet/">
        Cheat sheet
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
        
    </ul>

    
    
      <section id="shortcuts">
        <h3>More</h3>
        <ul>
          
              <li>
                  <a class="padding" href="https://uhintra03.uhasselt.be/studiegidswww/opleidingsonderdeel.aspx?a=2019&amp;i=4082&amp;n=4&amp;t=01"><i class='fa fa-university'></i> ECTS Sheet</a>
              </li>
          
              <li>
                  <a class="padding" href="https://kuleuven-diepenbeek.github.io/osc-course/TODO"><i class='fa fa-university'></i> Toledo</a>
              </li>
          
        </ul>
      </section>
    

    
    <section id="footer">
      <p>Built with <a href="https://github.com/matcornic/hugo-theme-learn"><i class="fas fa-heart"></i></a> from <a href="https://getgrav.org">Grav</a> and <a href="https://gohugo.io/">Hugo</a></p>

    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            <a href='../../'>Operating Systems and C</a> > <a href='../../ch6-tasks/'>6: Task management</a> > 6.3: Inter Process communication
          
        
          
        
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li><a href="#shared-memory">Shared memory</a></li>
    <li><a href="#message-passing">Message passing</a>
      <ul>
        <li><a href="#signals">Signals</a></li>
        <li><a href="#pipes">Pipes</a></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              6.3: Inter Process communication
            </h1>
          

        


<p>Having multiple processes running is all good-and-well. Hey, it is one of the main reasons why the concept of an OS was introduced, remember? Right, <strong>good job!</strong></p>
<p>It would make sense, though, if different processes were able to communicate with each other. That&rsquo;s what this Section is about.</p>
<p>There are two main techniques to facilitate communication between multiple processes. These two techniques are shown in image below.</p>
<ol>
<li>Shared memory</li>
<li>Message passing</li>
</ol>
<figure>
    <img src="../../img/os/db_ipc.png"/> <figcaption>
            <h4>The two main techniques for inter process communication</h4>
        </figcaption>
</figure>
<style>
  p.dinobook {
    color: #7E7E7E;
    font-size: 14px;
    font-weight: 300;
    letter-spacing: -1px;
    padding-top: 0px;
    margin-top: -20px;
    text-align: center;
  }
</style>
<p class="dinobook">source: SILBERSCHATZ, A., GALVIN, P.B., and GAGNE, G. <i>Operating System Concepts</i>. 9<sup>th</sup> ed. Hoboken: Wiley, 2013.</p>
<h2 id="shared-memory">Shared memory</h2>
<p>Shared memory is &hellip; memory that is shared. Normally multiple processes are not allowed to read/write to each other&rsquo;s memory space. This is enforced by the OS and we&rsquo;ll later discuss some details on how it does this. Errors, similar to the one in the example below, are generated by the OS if a processes try to access areas that it is not allowed to access.</p>
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-C" data-lang="C"><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e"></span>
<span style="color:#00a8c8">int</span> <span style="color:#75af00">main</span><span style="color:#111">(</span><span style="color:#00a8c8">void</span><span style="color:#111">)</span> <span style="color:#111">{</span>
  <span style="color:#00a8c8">int</span> <span style="color:#111">i</span><span style="color:#111">,</span> <span style="color:#111">my_array</span><span style="color:#111">[</span><span style="color:#ae81ff">8</span><span style="color:#111">];</span>

  <span style="color:#00a8c8">for</span><span style="color:#111">(</span><span style="color:#111">i</span><span style="color:#f92672">=</span><span style="color:#ae81ff">0</span><span style="color:#111">;</span><span style="color:#111">i</span><span style="color:#f92672">&lt;=</span><span style="color:#ae81ff">20</span><span style="color:#111">;</span><span style="color:#111">i</span><span style="color:#f92672">++</span><span style="color:#111">)</span> <span style="color:#111">{</span>
    <span style="color:#111">my_array</span><span style="color:#111">[</span><span style="color:#111">i</span><span style="color:#111">]</span> <span style="color:#f92672">=</span> <span style="color:#111">i</span><span style="color:#f92672">+</span><span style="color:#ae81ff">1</span><span style="color:#111">;</span>
  <span style="color:#111">}</span>

  <span style="color:#00a8c8">for</span><span style="color:#111">(</span><span style="color:#111">i</span><span style="color:#f92672">=</span><span style="color:#ae81ff">0</span><span style="color:#111">;</span><span style="color:#111">i</span><span style="color:#f92672">&lt;</span><span style="color:#ae81ff">8</span><span style="color:#111">;</span><span style="color:#111">i</span><span style="color:#f92672">++</span><span style="color:#111">)</span> <span style="color:#111">{</span>
    <span style="color:#111">printf</span><span style="color:#111">(</span><span style="color:#d88200">&#34;%d</span><span style="color:#8045ff">\n</span><span style="color:#d88200">&#34;</span><span style="color:#111">,</span> <span style="color:#111">my_array</span><span style="color:#111">[</span><span style="color:#111">i</span><span style="color:#111">]);</span>
  <span style="color:#111">}</span>

  <span style="color:#00a8c8">return</span> <span style="color:#ae81ff">0</span><span style="color:#111">;</span>
<span style="color:#111">}</span>
</code></pre></div><figure>
    <img src="../../img/os/sc_stacksmashing.png"/> <figcaption>
            <h4>An example of memory protection that given by the OS</h4>
        </figcaption>
</figure>
<p>Note that, depending on the OS, the error message might vary: on MacOS, it&rsquo;s simply <code>[1]    28507 abort      ./example.bin</code>.</p>

<div class="ex">
	<div class="inner">
    	<p>The code above exceeds the allowed stack space. Try to find out why this happens.</p>

	</div>
</div>
<p>The technique of using <strong>shared memory</strong> allows other processes to gain access certain regions of the address space. Both processes have to be aware that the memory is <strong>not</strong> protected by the OS. A programming API for using shared memory is provided by POSIX (<a href="https://en.wikipedia.org/wiki/POSIX">Portable Operating System Interface</a>, a set of standards implemented by most UNIX OSes). The example below shows a <strong>producer</strong> on the left (a process which puts data inside of the shared memory) and a <strong>consumer</strong> on the right (which uses the data it gets from the producer).</p>
<div class="multicolumn">
  <div class="column">
  <div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c"><span style="color:#75715e">// PRODUCER
</span><span style="color:#75715e"></span>
<span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdlib.h&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;string.h&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;fcntl.h&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;unistd.h&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;sys/shm.h&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;sys/mman.h&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e"></span>
<span style="color:#00a8c8">int</span> <span style="color:#75af00">main</span><span style="color:#111">()</span> <span style="color:#111">{</span>
  <span style="color:#00a8c8">const</span> <span style="color:#00a8c8">int</span> <span style="color:#111">SIZE</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">4096</span><span style="color:#111">;</span> <span style="color:#75715e">/* buffersize (bytes) */</span>
  <span style="color:#00a8c8">const</span> <span style="color:#00a8c8">char</span> <span style="color:#f92672">*</span><span style="color:#111">name</span> <span style="color:#f92672">=</span> <span style="color:#d88200">&#34;OS&#34;</span><span style="color:#111">;</span> <span style="color:#75715e">/* shared memory object name */</span>
  <span style="color:#00a8c8">const</span> <span style="color:#00a8c8">char</span> <span style="color:#f92672">*</span><span style="color:#111">data_0</span> <span style="color:#f92672">=</span> <span style="color:#d88200">&#34;Hello&#34;</span><span style="color:#111">;</span>
  <span style="color:#00a8c8">const</span> <span style="color:#00a8c8">char</span> <span style="color:#f92672">*</span><span style="color:#111">data_1</span> <span style="color:#f92672">=</span> <span style="color:#d88200">&#34;World!&#34;</span><span style="color:#111">;</span>
  <span style="color:#00a8c8">int</span> <span style="color:#111">shm_fd</span><span style="color:#111">;</span> <span style="color:#75715e">/* shared memory file descriptor */</span>
  <span style="color:#00a8c8">void</span> <span style="color:#f92672">*</span><span style="color:#111">ptr</span><span style="color:#111">;</span>

  <span style="color:#75715e">/* create the shared memory file descriptor */</span>
  <span style="color:#111">shm_fd</span> <span style="color:#f92672">=</span> <span style="color:#111">shm_open</span><span style="color:#111">(</span><span style="color:#111">name</span><span style="color:#111">,</span> <span style="color:#111">O_CREAT</span> <span style="color:#f92672">|</span> <span style="color:#111">O_RDWR</span><span style="color:#111">,</span> <span style="color:#ae81ff">0666</span><span style="color:#111">);</span>

  <span style="color:#75715e">/* configure the size of the shared memory file */</span>
  <span style="color:#111">ftruncate</span><span style="color:#111">(</span><span style="color:#111">shm_fd</span><span style="color:#111">,</span> <span style="color:#111">SIZE</span><span style="color:#111">);</span>

  <span style="color:#75715e">/* memory map the shared memory file */</span>
  <span style="color:#111">ptr</span> <span style="color:#f92672">=</span> <span style="color:#111">mmap</span><span style="color:#111">(</span><span style="color:#ae81ff">0</span><span style="color:#111">,</span> <span style="color:#111">SIZE</span><span style="color:#111">,</span> <span style="color:#111">PROT_WRITE</span><span style="color:#111">,</span> <span style="color:#111">MAP_SHARED</span><span style="color:#111">,</span> <span style="color:#111">shm_fd</span><span style="color:#111">,</span> <span style="color:#ae81ff">0</span><span style="color:#111">);</span>

  <span style="color:#75715e">/* write to the shared memory file */</span>
  <span style="color:#111">sprintf</span><span style="color:#111">(</span><span style="color:#111">ptr</span><span style="color:#111">,</span><span style="color:#d88200">&#34;%s&#34;</span><span style="color:#111">,</span><span style="color:#111">data_0</span><span style="color:#111">);</span>
  <span style="color:#111">ptr</span> <span style="color:#f92672">+=</span> <span style="color:#111">strlen</span><span style="color:#111">(</span><span style="color:#111">data_0</span><span style="color:#111">);</span>
  <span style="color:#111">sprintf</span><span style="color:#111">(</span><span style="color:#111">ptr</span><span style="color:#111">,</span><span style="color:#d88200">&#34;%s&#34;</span><span style="color:#111">,</span><span style="color:#111">data_1</span><span style="color:#111">);</span>
  <span style="color:#111">ptr</span> <span style="color:#f92672">+=</span> <span style="color:#111">strlen</span><span style="color:#111">(</span><span style="color:#111">data_1</span><span style="color:#111">);</span>

  <span style="color:#00a8c8">return</span> <span style="color:#ae81ff">0</span><span style="color:#111">;</span>
<span style="color:#111">}</span>
  </code></pre></div>
  </div>
  <div class="column">
  <div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c"><span style="color:#75715e">// CONSUMER
</span><span style="color:#75715e"></span>
<span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdlib.h&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;fcntl.h&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;unistd.h&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;sys/shm.h&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;sys/mman.h&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e"></span>

<span style="color:#00a8c8">int</span> <span style="color:#75af00">main</span><span style="color:#111">()</span> <span style="color:#111">{</span>
  <span style="color:#00a8c8">const</span> <span style="color:#00a8c8">int</span> <span style="color:#111">SIZE</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">4096</span><span style="color:#111">;</span> <span style="color:#75715e">/* buffersize (bytes) */</span>
  <span style="color:#00a8c8">const</span> <span style="color:#00a8c8">char</span> <span style="color:#f92672">*</span><span style="color:#111">name</span> <span style="color:#f92672">=</span> <span style="color:#d88200">&#34;OS&#34;</span><span style="color:#111">;</span> <span style="color:#75715e">/* shared memory object name */</span>


  <span style="color:#00a8c8">int</span> <span style="color:#111">shm_fd</span><span style="color:#111">;</span> <span style="color:#75715e">/* file descriptor */</span>
  <span style="color:#00a8c8">void</span> <span style="color:#f92672">*</span><span style="color:#111">ptr</span><span style="color:#111">;</span>

  <span style="color:#75715e">/* open the shared memory file */</span>
  <span style="color:#111">shm_fd</span> <span style="color:#f92672">=</span> <span style="color:#111">shm_open</span><span style="color:#111">(</span><span style="color:#111">name</span><span style="color:#111">,</span> <span style="color:#111">O_RDONLY</span><span style="color:#111">,</span> <span style="color:#ae81ff">0666</span><span style="color:#111">);</span>


  <span style="color:#75715e">/* memory map the shared memory file */</span>
  <span style="color:#111">ptr</span> <span style="color:#f92672">=</span> <span style="color:#111">mmap</span><span style="color:#111">(</span><span style="color:#ae81ff">0</span><span style="color:#111">,</span> <span style="color:#111">SIZE</span><span style="color:#111">,</span> <span style="color:#111">PROT_READ</span><span style="color:#111">,</span> <span style="color:#111">MAP_SHARED</span><span style="color:#111">,</span> <span style="color:#111">shm_fd</span><span style="color:#111">,</span> <span style="color:#ae81ff">0</span><span style="color:#111">);</span>


  <span style="color:#75715e">/* read from the shared memory file */</span>
  <span style="color:#111">printf</span><span style="color:#111">(</span><span style="color:#d88200">&#34;%s&#34;</span><span style="color:#111">,(</span><span style="color:#00a8c8">char</span> <span style="color:#f92672">*</span><span style="color:#111">)</span><span style="color:#111">ptr</span><span style="color:#111">);</span>

  <span style="color:#75715e">/* remove the shared memory file */</span>
  <span style="color:#111">shm_unlink</span><span style="color:#111">(</span><span style="color:#111">name</span><span style="color:#111">);</span>

  <span style="color:#00a8c8">return</span> <span style="color:#ae81ff">0</span><span style="color:#111">;</span>
<span style="color:#111">}</span>
  </code></pre></div>
  </div>
</div>
<style>
  p.dinobook {
    color: #7E7E7E;
    font-size: 14px;
    font-weight: 300;
    letter-spacing: -1px;
    padding-top: 0px;
    margin-top: -20px;
    text-align: center;
  }
</style>
<p class="dinobook">source: SILBERSCHATZ, A., GALVIN, P.B., and GAGNE, G. <i>Operating System Concepts</i>. 9<sup>th</sup> ed. Hoboken: Wiley, 2013.</p>
<p><strong>Note:</strong> to compile these on Linux, you need to pass the <code>-lrt</code> flag to gcc (&ldquo;link with library rt&rdquo;, see the <a href="https://refspecs.linuxfoundation.org/LSB_5.0.0/LSB-Core-generic/LSB-Core-generic/librt.html">librt interface documentation</a>) like so: <code>gcc -o producer producer.c -lrt</code>. MacOS relies less on auxiliary external libraries; the flag can safely be omitted there.</p>

<div class="ex">
	<div class="inner">
    	<p>This very simple example uses shared memory. Try to find answers to the questions below:</p>
<ul>
<li>Try to find out what these programs do</li>
<li>What is the size of the memory that is shared?</li>
<li>Can a <em>producer</em> read from the shared memory?</li>
<li>Can a <em>consumer</em> write to the shared memory?</li>
<li>How do both processes know which data is shared? In other words, how does the consumer decide which memory it connects to?</li>
<li>Do both processes have to be active at the same time for the memory sharing to work? Why (not)?</li>
</ul>

	</div>
</div>
<p>Using shared memory is handy, but also not ideal in terms of security. For example, can you see any way in the API above to make sure only authorized programs can read/write to the shared memory? In this setup, any program which knows the name of the shared memory block and runs with sufficient permissions (remember <code>chmod</code>?) can also access the shared memory.</p>
<h2 id="message-passing">Message passing</h2>
<p>The second technique for for InterProcess Communication (IPC) comes in the form of message passing. This method is a bit more restricted than using raw shared memory, but also easier to use and safer because of that. Here we touch on 2 different mechanisms for achieving this: <strong>signals</strong> and <strong>pipes</strong>.</p>
<h3 id="signals">Signals</h3>
<p>Signals are the cheapest form of IPC. They literally allow one process to send a signal to another process, through the use of the function <code>kill()</code>. Although due to historical reasons the name might be a bit misleading (originally, the only defined signal was used to stop a process, other uses only came later), it can be used to send different signals. Signals here are very simply numbers with a predefined meaning (an &ldquo;enum&rdquo; if you will) that you can send to another process. Depending on the number received, a different action is expected to be taken. For example, if you use the <code>Ctrl+c</code> keyboard shortcut to stop a running program, the shell sends a <code>SIGINT</code> (signal interrupt) to the current program. Similarly, <code>Ctrl+z</code> will send a <code>SIGTSTP</code> signal.</p>
<p>The snippet below shows the different types of signals that can be sent. Many of them have to do with stopping other processes, but with subtly different effects (for example, stop a process&mdash;immediately&mdash;versus allowing it to safely exit itself).</p>
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">jvliegen@localhost:~/$ <span style="color:#111">kill</span> -L
 1<span style="color:#f92672">)</span> SIGHUP   2<span style="color:#f92672">)</span> SIGINT   3<span style="color:#f92672">)</span> SIGQUIT  4<span style="color:#f92672">)</span> SIGILL   5<span style="color:#f92672">)</span> SIGTRAP
 6<span style="color:#f92672">)</span> SIGABRT  7<span style="color:#f92672">)</span> SIGBUS   8<span style="color:#f92672">)</span> SIGFPE   9<span style="color:#f92672">)</span> SIGKILL 10<span style="color:#f92672">)</span> SIGUSR1
11<span style="color:#f92672">)</span> SIGSEGV 12<span style="color:#f92672">)</span> SIGUSR2 13<span style="color:#f92672">)</span> SIGPIPE 14<span style="color:#f92672">)</span> SIGALRM 15<span style="color:#f92672">)</span> SIGTERM
16<span style="color:#f92672">)</span> SIGSTKFLT 17<span style="color:#f92672">)</span> SIGCHLD 18<span style="color:#f92672">)</span> SIGCONT 19<span style="color:#f92672">)</span> SIGSTOP 20<span style="color:#f92672">)</span> SIGTSTP
21<span style="color:#f92672">)</span> SIGTTIN 22<span style="color:#f92672">)</span> SIGTTOU 23<span style="color:#f92672">)</span> SIGURG  24<span style="color:#f92672">)</span> SIGXCPU 25<span style="color:#f92672">)</span> SIGXFSZ
26<span style="color:#f92672">)</span> SIGVTALRM 27<span style="color:#f92672">)</span> SIGPROF 28<span style="color:#f92672">)</span> SIGWINCH  29<span style="color:#f92672">)</span> SIGIO 30<span style="color:#f92672">)</span> SIGPWR
31<span style="color:#f92672">)</span> SIGSYS  34<span style="color:#f92672">)</span> SIGRTMIN  35<span style="color:#f92672">)</span> SIGRTMIN+1  36<span style="color:#f92672">)</span> SIGRTMIN+2  37<span style="color:#f92672">)</span> SIGRTMIN+3
38<span style="color:#f92672">)</span> SIGRTMIN+4  39<span style="color:#f92672">)</span> SIGRTMIN+5  40<span style="color:#f92672">)</span> SIGRTMIN+6  41<span style="color:#f92672">)</span> SIGRTMIN+7  42<span style="color:#f92672">)</span> SIGRTMIN+8
43<span style="color:#f92672">)</span> SIGRTMIN+9  44<span style="color:#f92672">)</span> SIGRTMIN+10 45<span style="color:#f92672">)</span> SIGRTMIN+11 46<span style="color:#f92672">)</span> SIGRTMIN+12 47<span style="color:#f92672">)</span> SIGRTMIN+13
48<span style="color:#f92672">)</span> SIGRTMIN+14 49<span style="color:#f92672">)</span> SIGRTMIN+15 50<span style="color:#f92672">)</span> SIGRTMAX-14 51<span style="color:#f92672">)</span> SIGRTMAX-13 52<span style="color:#f92672">)</span> SIGRTMAX-12
53<span style="color:#f92672">)</span> SIGRTMAX-11 54<span style="color:#f92672">)</span> SIGRTMAX-10 55<span style="color:#f92672">)</span> SIGRTMAX-9  56<span style="color:#f92672">)</span> SIGRTMAX-8  57<span style="color:#f92672">)</span> SIGRTMAX-7
58<span style="color:#f92672">)</span> SIGRTMAX-6  59<span style="color:#f92672">)</span> SIGRTMAX-5  60<span style="color:#f92672">)</span> SIGRTMAX-4  61<span style="color:#f92672">)</span> SIGRTMAX-3  62<span style="color:#f92672">)</span> SIGRTMAX-2
63<span style="color:#f92672">)</span> SIGRTMAX-1  64<span style="color:#f92672">)</span> SIGRTMAX   
</code></pre></div><p>There is also has CLI-compatible command <code>kill</code> that can send these signals to any running process (addressed by their PID). For more information on the kill command, add the <code>--help</code> argument, read the man-page (<code>man kill</code>).</p>
<p>Let&rsquo;s illustrate this with an example:</p>
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-C" data-lang="C"><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;unistd.h&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e"></span>
<span style="color:#75715e">#define DURATION_IN_MINUTES 10
</span><span style="color:#75715e"></span>
<span style="color:#00a8c8">int</span> <span style="color:#75af00">main</span><span style="color:#111">(</span><span style="color:#00a8c8">void</span><span style="color:#111">)</span> <span style="color:#111">{</span>
  <span style="color:#00a8c8">int</span> <span style="color:#111">i</span> <span style="color:#f92672">=</span> <span style="color:#111">DURATION_IN_MINUTES</span> <span style="color:#f92672">*</span> <span style="color:#ae81ff">60</span><span style="color:#111">;</span>

  <span style="color:#00a8c8">for</span><span style="color:#111">(;</span><span style="color:#111">i</span><span style="color:#f92672">&gt;=</span><span style="color:#ae81ff">0</span><span style="color:#111">;</span><span style="color:#111">i</span><span style="color:#f92672">--</span><span style="color:#111">)</span> <span style="color:#111">{</span>
    <span style="color:#111">printf</span><span style="color:#111">(</span><span style="color:#d88200">&#34;TIMER: 00:%02d:%02d</span><span style="color:#8045ff">\n</span><span style="color:#d88200">&#34;</span><span style="color:#111">,</span> <span style="color:#111">(</span><span style="color:#00a8c8">int</span><span style="color:#111">)((</span><span style="color:#111">i</span><span style="color:#f92672">-</span><span style="color:#111">i</span><span style="color:#f92672">%</span><span style="color:#ae81ff">60</span><span style="color:#111">)</span><span style="color:#f92672">/</span><span style="color:#ae81ff">60</span><span style="color:#111">),</span> <span style="color:#111">i</span><span style="color:#f92672">%</span><span style="color:#ae81ff">60</span><span style="color:#111">);</span>
    <span style="color:#111">sleep</span><span style="color:#111">(</span><span style="color:#ae81ff">1</span><span style="color:#111">);</span>
  <span style="color:#111">}</span>

  <span style="color:#00a8c8">return</span> <span style="color:#ae81ff">0</span><span style="color:#111">;</span>
<span style="color:#111">}</span>
</code></pre></div><p>This program will emulate an egg timer. Every second it displays how much time is left. Once the process starts running, it takes 10 minutes to complete. This process can be stopped by just pressing CTRL+C. Note that you don&rsquo;t have to manually do anything for this to work: your program automatically listens for this signal and exits the program when it is received. This is achieved through a combination of the <code>gcc</code> compiler (which adds code for signal handling) and the OS executing that code when needed.</p>
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">jvliegen@localhost:~/$ ./egg_timer.bin 
TIMER: 00:10:00
TIMER: 00:09:59
TIMER: 00:09:58
TIMER: 00:09:57
TIMER: 00:09:56
^C
</code></pre></div><p>Another way to kill the process would be to explicitly send the signal through the kill command. To use this command, the <strong>PID</strong> is needed as an argument. Through a new CLI-window, this PID has to be searched for first. Note that the type of signal is an argument in the command.</p>
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">jvliegen@localhost:~/$  ps ux <span style="color:#111">|</span> grep timer
jvliegen  <span style="color:#ae81ff">5041</span>  0.0  0.0   <span style="color:#ae81ff">4504</span>   <span style="color:#ae81ff">772</span> pts/1    S+   06:04   0:00 ./egg_timer.bin
jvliegen  <span style="color:#ae81ff">5066</span>  0.0  0.0  <span style="color:#ae81ff">21996</span>  <span style="color:#ae81ff">1080</span> pts/2    S+   06:05   0:00 grep --color<span style="color:#f92672">=</span>auto timer
jvliegen@localhost:~/$  <span style="color:#111">kill</span> -KILL <span style="color:#ae81ff">5041</span>
</code></pre></div>
<div class="ex">
	<div class="inner">
    	<p>Try this for yourself. You can also use the <code>./longhello</code> program from Section 6.1. Run this program and try to kill it using <strong>both</strong> approaches that were explained above. (Of course this means you shoud run it again, after you killed it the first time  )</p>

	</div>
</div>
<p>Although there are numerous uses for sending signals between signals, one more example is interesting to have a closer look at. Above there was already some hinting to <strong>CTRL+Z</strong>.</p>
<p>The CLI is running a shell, as you already know by now. This offers just a single interface. If you were to start a program, that CLI is occupied (you cannot type or execute any commands). Imagine you are working remotely on a server (e.g., through ssh): this would require you to open up a new connection to the server and have a second shell at your disposal every time you executed a longer running command (e.g., starting a web server). A more convenient solution would be to send the running program to the <strong>background</strong>.</p>
<figure>
    <img src="../../img/os/sc_xeyes.png"/> <figcaption>
            <h4>An example of a program that needs to be killed with CTRL-C</h4>
        </figcaption>
</figure>
<p>Before you can send processes to the background, the process has to be halted first. This can be done through the CTRL+Z shortcut. With a halted process, the command <strong>bg</strong> sends the halted process to the background. If you do not send it to the background, the process will <em>freeze</em>. Once it is in the background it <em>unfreezes</em> and continues running. Additionally, this gives you back your shell.</p>
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">jvliegen@localhost:~/$ xeyes 
^Z
<span style="color:#f92672">[</span>1<span style="color:#f92672">]</span>+  Stopped                 xeyes
jvliegen@localhost:~/$ <span style="color:#111">bg</span>
<span style="color:#f92672">[</span>1<span style="color:#f92672">]</span>+ xeyes <span style="color:#111">&amp;</span>
jvliegen@localhost:~/$ 
</code></pre></div><p>For the sake of completeness we enumerate a few more usefull aspects about this:</p>
<ul>
<li>a process can be started in the background as well. This can be achieved by adding an <code>&amp;</code> (ampersand) after the command (e.g., <code>xeyes &amp;</code>)</li>
<li>the command <code>jobs</code> gives you an overview of which jobs are running in the background</li>
<li>through the command <code>fg &lt;#&gt;</code> the job with index number &lt;#&gt; will pulled to foreground.</li>
</ul>

<div class="ex">
	<div class="inner">
    	<p>Try this for yourself. If the <code>xeyes</code> program is not installed, install it first or use the <code>longhello</code> program from before.</p>

	</div>
</div>
<h3 id="pipes">Pipes</h3>
<p>Another option to achieve message sending is through <strong>pipes</strong>. There are two different types of pipes available:</p>
<ul>
<li>anonymous pipes</li>
<li>named pipes</li>
</ul>
<p><strong>Anonymous pipes</strong> are like waterslides. You can put some data on it on one end (the top of the slide) and it comes out the other (the bottom), but it&rsquo;s not possible to go up the waterslide from the bottom. Put differently: communication is half-duplex (single direction). One process can <strong>write</strong> into the pipe, while the other can <strong>read</strong> from of the pipe. This type of pipe can only be create between two processes that have parent-child relationship. What happens internally is that the <strong>stdout</strong> of the first process is mapped to the <strong>stdin</strong> of the second process. For this, we use the <code>|</code> (pipe) character.</p>
<p>When using the CLI, anonymous pipes are a very powerful tool for chaining different commands. The output of the first command will be the input for the next command. This can be chained multiple times.</p>
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">jvliegen@localhost:~/$ xeyes <span style="color:#111">&amp;</span>
jvliegen@localhost:~/$ ps -ux <span style="color:#111">|</span> grep xeyes <span style="color:#111">|</span> head -1 <span style="color:#111">|</span> tr -s <span style="color:#d88200">&#34; &#34;</span> <span style="color:#111">|</span> cut -d <span style="color:#d88200">&#34; &#34;</span> -f <span style="color:#ae81ff">3</span>
<span style="color:#ae81ff">5526</span>
jvliegen@localhost:~/$ 
</code></pre></div><p>The example above chains the following:</p>
<ol>
<li>give a list of all <em>my</em> processes (<code>ps</code> = process status)</li>
<li>only filter the lines that contain the word <em>xeyes</em> (<code>grep</code> stands for Global Regular Expression Print)</li>
<li>filter only the first line (<code>head</code>)</li>
<li>squash all spaces <code>ps</code> produces together to better prepare for step 5:</li>
<li>split the input on a space (<code>&quot; &quot;</code>) and report only the third field (which is the process ID)</li>
</ol>

<div class="ex">
	<div class="inner">
    	<p>Let&rsquo;s try something similar for yourselves:</p>
<ul>
<li>Use anonymous pipes to display all the processes of which you are the owner. From these processes only display the PID and the first 10 characters of the process&rsquo;s name (the COMMAND column). From this list, only show the first 10 processes.</li>
<li>Then, add another command to sort the output by descending PID (so the largest PID is on top, the smallest on the bottom)</li>
</ul>
<figure>
    <img src="../../img/os/sc_662.png"/> <figcaption>
            <h4>An example output</h4>
        </figcaption>
</figure>

	</div>
</div>
<p>Do you remember the Process Control Block? This has one field called <strong>list of open files</strong>. We&rsquo;ve already touched upon stdin, stdout and stderr. Using anonymous pipes will add an entry to this list.</p>
<p>We can also <strong>relink</strong> the 3 default open files to other targets. For example, instead of writing output and errors to the command line, we can redirect them to a file. Similarly, we can read input from a file instead of from the keyboard:</p>
<figure>
    <img src="../../img/os/sc_redirect_stdout.png"/> <figcaption>
            <h4>Redirection of the standard output </h4>
        </figcaption>
</figure>
<p>The syntax for this is a bit weird though: 1&gt; is meant to redirect data that normally goes to stdout, while 2&gt; is used to relink stderr. You can also point directly to the existing stdout/stderr by using &amp;1 or &amp;2 respectively:</p>
<ul>
<li>process 1&gt;{STDOUT} 2&gt;{STDERR}</li>
<li>process 1&gt;{STDOUT} 2&gt;&amp;1</li>
<li>process &lt; {STDIN} (read from a file at location {STDIN} rather than from the keyboard)</li>
</ul>
<p>Note that here we&rsquo;re using the <code>&gt;</code> pipe here instead of <code>|</code> as above. The difference is subtle, but a simple explanation is that <code>&gt;</code> deals with mapping a command to a <em>file</em> (or something that pretends to be a file, like stdout/stderr), while <code>|</code> maps a command to <em>another command</em>.</p>

<div class="ex">
	<div class="inner">
    	<p>Since STDIN is &ldquo;just a file&rdquo; in Linux, we can also read from that file to get input into our program.</p>
<p>Look up yourself online how to read data from STDIN and write a small C program that reads (some) data from STDIN and prints it to STDOUT using <code>printf()</code>.</p>
<p>Then use a command like this to have data from 1 file pass through your program and into another:</p>
<p><code>cat input_file.txt | ./my_program 1&gt; output_file.txt</code></p>
<p>Also try to do <code>input_file.txt &gt; ./my_program 1&gt; output_file.txt</code> and explain why that doesn&rsquo;t (seem to) work.</p>

	</div>
</div>
<p><strong>Named pipes</strong> are the other type of pipes that can be created. The main differences with anonymous pipes are the lifetime of this mechanism and their presence in the file system.</p>
<p>The anonymous pipes above only live for as long as the processes live. Named pipes instead persist and have to be closed explicitly (or are closes automatically at system-shutdown).</p>
<p>Named pipes also have an actual presence in the file system. That is, they show up as files. But unlike most files, they never appear to have contents. Even if you write a lot of data to a named pipe, the file appears to be empty. Making named pipes can be done through the <code>mkfifo</code> command.</p>
<p>As they are not frequently used, we direct the interested reader to <code>man</code> pages.</p>


<footer class="footline">
	
</footer>

        
        </div>
        

      </div>

    <div id="navigation">
        
        

        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        

        


	 
	 
		
			<a class="nav nav-prev" href="../../ch6-tasks/lab1_processmgmt/" title="6.2: Processes (lab)"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="../../ch6-tasks/threads/" title="6.4: Threads" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>

    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="../../js/clipboard.min.js?1680267095"></script>
    <script src="../../js/perfect-scrollbar.min.js?1680267095"></script>
    <script src="../../js/perfect-scrollbar.jquery.min.js?1680267095"></script>
    <script src="../../js/jquery.sticky.js?1680267095"></script>
    <script src="../../js/featherlight.min.js?1680267095"></script>
    <script src="../../js/modernizr.custom-3.6.0.js?1680267095"></script>
    <script src="../../js/learn.js?1680267095"></script>
    <script src="../../js/hugo-learn.js?1680267095"></script>
    
        
            <script src="../../mermaid/mermaid.js?1680267095"></script>
        
        <script>
            mermaid.initialize({ startOnLoad: true });
        </script>
    
    <script>
    window.MathJax = {
      chtml: {
        scale: 2,                      
        minScale: .5,                  
        matchFontHeight: true,         
        mtextInheritFont: false,       
        merrorInheritFont: true,       
        mathmlSpacing: false,          
        skipAttributes: {},            
        exFactor: .5,                  
        displayAlign: 'center',        
        displayIndent: '0'             
      }
    };
    </script>
    
    

  </body>
</html>

